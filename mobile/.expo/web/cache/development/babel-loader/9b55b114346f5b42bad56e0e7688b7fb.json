{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\ProvIna\\\\mobile\\\\src\\\\pages\\\\Comment.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Card, ListItem, Button, Icon } from \"react-native-elements\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport View from \"react-native-web/dist/exports/View\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { set } from \"react-native-reanimated\";\nimport api from \"../api/api\";\n\nfunction Comment(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      post = _useState2[0],\n      setPost = _useState2[1];\n\n  var _navigation$state$par = navigation.state.params,\n      IdArquivos = _navigation$state$par.IdArquivos,\n      IdAluno = _navigation$state$par.IdAluno,\n      Url = _navigation$state$par.Url;\n  var cloudinaryUrl = 'https://res.cloudinary.com/provina/image/upload/';\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      comentario = _useState4[0],\n      setComentario = _useState4[1];\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      todosComentarios = _useState6[0],\n      setTodosComentarios = _useState6[1];\n\n  function BuscarArquivo() {\n    var respArquivo;\n    return _regeneratorRuntime.async(function BuscarArquivo$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(api.get(\"/arquivo/\" + IdArquivos, {}));\n\n          case 2:\n            respArquivo = _context.sent;\n            setPost(respArquivo.data[0]);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  function BuscarComentarios() {\n    var respComent;\n    return _regeneratorRuntime.async(function BuscarComentarios$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(api.get(\"/Comentario/\" + IdArquivos, {}));\n\n          case 2:\n            respComent = _context2.sent;\n            setTodosComentarios(respComent.data);\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  useEffect(function () {}, [comentario, todosComentarios, post]);\n  useEffect(function () {\n    BuscarArquivo();\n    BuscarComentarios();\n  }, []);\n\n  function SalvarComentario() {\n    return _regeneratorRuntime.async(function SalvarComentario$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.next = 2;\n            return _regeneratorRuntime.awrap(api.post(\"/Comentario\", {\n              Texto: comentario,\n              IdAluno: IdAluno,\n              IdArquivo: IdArquivos\n            }));\n\n          case 2:\n            BuscarComentarios();\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  return React.createElement(ScrollView, {\n    style: styles.commentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, React.createElement(Card, {\n    containerStyle: styles.cardBox,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: styles.createCommentHeader,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, React.createElement(Image, {\n    style: styles.postImage,\n    resizeMode: \"cover\",\n    source: {\n      uri: cloudinaryUrl + Url\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.createCommentBody,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    style: styles.createCommentInput,\n    multiline: true,\n    placeholder: \"Deixe o seu coment\\xE1rio aqui\",\n    placeholderTextColor: \"#454545\",\n    numberOfLines: 4,\n    value: comentario,\n    onChangeText: setComentario,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  })), React.createElement(View, {\n    style: styles.createCommentFooter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, React.createElement(Button, {\n    onPress: SalvarComentario,\n    title: \"Enviar\",\n    size: \"sm\",\n    type: \"outline\",\n    color: \"(255, 255, 255, 0)\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }))), todosComentarios.map(function (coment) {\n    return React.createElement(Card, {\n      containerStyle: styles.cardBox,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }\n    }, React.createElement(View, {\n      style: styles.commentHeader,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }), React.createElement(View, {\n      style: styles.commentBody,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      style: styles.titles,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, \" \", coment.Texto, \" \")), React.createElement(View, {\n      style: styles.commentFooter,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }));\n  }));\n}\n\nvar styles = StyleSheet.create({\n  commentPage: {\n    flex: 1,\n    backgroundColor: \"#000\",\n    textAlign: \"center\"\n  },\n  cardBox: {\n    borderRadius: 4,\n    borderColor: \"#00000000\",\n    backgroundColor: \"rgb(18,18,18)\",\n    padding: 0,\n    alignItems: \"center\"\n  },\n  createCommentHeader: {\n    flex: 1,\n    padding: 2,\n    marginRight: 5\n  },\n  createCommentBody: {\n    flex: 1,\n    width: \"100%\",\n    padding: 0,\n    margin: 2\n  },\n  createCommentFooter: {\n    flex: 1,\n    padding: 10\n  },\n  createCommentInput: {\n    borderRadius: 4,\n    backgroundColor: \"#000\",\n    borderColor: \"#00000000\",\n    color: \"#fff\"\n  },\n  titles: {\n    fontSize: 30,\n    color: \"#fff\"\n  },\n  postImage: {\n    width: 200,\n    height: 150,\n    borderRadius: 2\n  }\n});\nexport default Comment;","map":{"version":3,"sources":["C:/ProvIna/mobile/src/pages/Comment.js"],"names":["React","useState","useEffect","Card","ListItem","Button","Icon","set","api","Comment","navigation","post","setPost","state","params","IdArquivos","IdAluno","Url","cloudinaryUrl","comentario","setComentario","todosComentarios","setTodosComentarios","BuscarArquivo","get","respArquivo","data","BuscarComentarios","respComent","SalvarComentario","Texto","IdArquivo","styles","commentPage","cardBox","createCommentHeader","postImage","uri","createCommentBody","createCommentInput","createCommentFooter","map","coment","commentHeader","commentBody","titles","commentFooter","StyleSheet","create","flex","backgroundColor","textAlign","borderRadius","borderColor","padding","alignItems","marginRight","width","margin","color","fontSize","height"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Card, ListItem, Button, Icon } from \"react-native-elements\";\r\nimport {\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  View,\r\n  SafeAreaView,\r\n  TouchableOpacity,\r\n  Image,\r\n  Linking,\r\n  ScrollView,\r\n} from \"react-native\";\r\nimport { set } from \"react-native-reanimated\";\r\n\r\nimport api from \"../api/api\";\r\n\r\nfunction Comment({ navigation }) {\r\n  const [post, setPost] = useState([]);\r\n\r\n  const { IdArquivos, IdAluno, Url } = navigation.state.params;\r\n  const cloudinaryUrl = 'https://res.cloudinary.com/provina/image/upload/';\r\n  const [comentario, setComentario] = useState(\"\");\r\n  const [todosComentarios, setTodosComentarios] = useState([]); \r\n \r\n  async function BuscarArquivo() {\r\n    const respArquivo = await api.get(\"/arquivo/\" + IdArquivos, {});\r\n    setPost(respArquivo.data[0]);\r\n  }\r\n\r\n  async function BuscarComentarios() {\r\n    const respComent = await api.get(\"/Comentario/\" + IdArquivos, {});\r\n\r\n    setTodosComentarios(respComent.data);\r\n  }\r\n  useEffect(() => {\r\n\r\n  },[comentario,todosComentarios,post]);\r\n  \r\n  useEffect(() => {\r\n    BuscarArquivo();\r\n    BuscarComentarios();\r\n  }, []);\r\n\r\n  async function SalvarComentario() {\r\n    await api.post(\"/Comentario\", {\r\n      Texto: comentario,\r\n      IdAluno: IdAluno,\r\n      IdArquivo: IdArquivos,\r\n    });\r\n    BuscarComentarios();\r\n  }\r\n\r\n  return (\r\n    <ScrollView style={styles.commentPage}>\r\n      <Card containerStyle={styles.cardBox}>\r\n        <View style={styles.createCommentHeader}>\r\n          <Image\r\n                      style={styles.postImage}\r\n                      resizeMode=\"cover\"\r\n                      source={{uri: cloudinaryUrl + Url }}\r\n                    />\r\n        </View>\r\n        <View style={styles.createCommentBody}>\r\n          <TextInput\r\n            style={styles.createCommentInput}\r\n            multiline\r\n            placeholder=\"Deixe o seu comentÃ¡rio aqui\"\r\n            placeholderTextColor=\"#454545\" \r\n            numberOfLines={4}\r\n            value={comentario}\r\n            onChangeText={setComentario}\r\n          ></TextInput>\r\n        </View>\r\n        <View style={styles.createCommentFooter}>\r\n          <Button \r\n            onPress={SalvarComentario} \r\n            title=\"Enviar\"\r\n            size=\"sm\"\r\n            type=\"outline\"\r\n            color=\"(255, 255, 255, 0)\"\r\n          ></Button>\r\n        </View>\r\n      </Card>\r\n\r\n      \r\n      {todosComentarios.map((coment) => {\r\n        return (\r\n          <Card containerStyle={styles.cardBox}>\r\n            <View style={styles.commentHeader}></View>\r\n            <View style={styles.commentBody}>\r\n            <Text style={styles.titles}> {coment.Texto} </Text>\r\n             \r\n            </View>\r\n            <View style={styles.commentFooter}></View>\r\n          </Card>\r\n        );\r\n      })}\r\n    </ScrollView>\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  commentPage: {\r\n    flex: 1,\r\n    backgroundColor: \"#000\",\r\n    textAlign: \"center\",\r\n  },\r\n  cardBox: {\r\n    borderRadius: 4,\r\n    borderColor: \"#00000000\",\r\n    backgroundColor: \"rgb(18,18,18)\",\r\n    padding: 0,\r\n    //width: 500,\r\n    //height: 150,\r\n    //width: \"100%\",\r\n    alignItems: \"center\",\r\n  },\r\n  createCommentHeader: {\r\n    flex: 1,\r\n    padding: 2,\r\n    marginRight: 5,\r\n  },\r\n  createCommentBody: {\r\n    flex: 1,\r\n    width: \"100%\",\r\n    padding: 0,\r\n    margin: 2,\r\n  },\r\n  createCommentFooter: {\r\n    flex: 1,\r\n    padding: 10,\r\n  },\r\n  createCommentInput: {\r\n    borderRadius: 4,\r\n    backgroundColor: \"#000\",\r\n    borderColor: \"#00000000\",\r\n    color: \"#fff\",\r\n  },\r\n  titles: {\r\n    fontSize: 30,\r\n    color: \"#fff\",\r\n  },\r\n  postImage: {\r\n    width: 200,\r\n    height: 150,\r\n    borderRadius: 2,\r\n  },\r\n});\r\n\r\nexport default Comment;\r\n"]},"metadata":{},"sourceType":"module"}